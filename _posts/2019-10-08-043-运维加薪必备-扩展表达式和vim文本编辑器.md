---
layout:     post
title:      shell脚本编程-环境变量与引用
subtitle:   shell脚本编程-环境变量与引用
date:       2019-10-28
author:     李广雄
header-img: img/post-bg-hacker.jpg
catalog: true
tags:
    - Linux练习题
---

# shell脚本编程-环境变量与引用

---
### 可以使用引用value有几种

	可以是直接字串:name="root" or name='root' 
	变量引用：name="$USER"
	命令引用：name=`COMMAND` name=$(COMMAND)

### 给name赋值直接字串hello world
	
	[root@centos7 ~ 2019-10-25 15:28]$ name="Hello World"
	[root@centos7 ~ 2019-10-25 15:36]$ echo $name
	Hello World

### 给nameVar赋值变量引用当前的用户名

	[root@centos7 ~ 2019-10-25 14:34]$ cat helloworld.sh 
	#!/bin/bash 
	echo 'Hello World'

### 给nameCmd赋值变量引用内核版本2种方式
	
	[root@centos7 ~ 2019-10-25 15:36]$ nameVar="$USER"
	[root@centos7 ~ 2019-10-25 15:36]$ echo $nameVar
	root

### 给nameCmd赋值/etc/issue,并打印出来

	[root@centos7 ~ 2019-10-25 15:36]$ nameCmd=`cat /etc/issue`
	[root@centos7 ~ 2019-10-25 15:39]$ echo "$nameCmd"

### echo "$nameCmd"和echo $nameCmd区别什么
	
	echo "$nameCmd"信息最完整

### 解释变量弱引用,强引用

    '':只执行字符串
	"":执行命令

### 为什么使用环境变量

	为了让子进程和父进程都能使用变量


### 显示已定义的所有环境变量和环境函数

	set

### bash中变量的种类有什么样的,他的作用范围

	[root@centos7 ~ 2019-10-25 14:59]$ echo $$
	4256

### 用两种方法声明一个环境变量var等于100

	expert var=100

### 用两种方法引用环境变量var

	[root@centos7 ~ 2019-10-25 16:03]$ expert var=100
	[root@centos7 ~ 2019-10-25 16:03]$ declare -x a="aa"

### 用4中方法显示所有环境变量

	[root@centos7 ~ 2019-10-25 16:03]$ declare -x
	[root@centos7 ~ 2019-10-25 16:06]$ printenv
	[root@centos7 ~ 2019-10-25 16:06]$ env
	[root@centos7 ~ 2019-10-25 16:07]$ export

### $_ 是什么
     
     执行命令的最后的一个参数

### 显示bash内置环境变量 

	[root@centos7 ~ 2019-10-25 16:07]$ echo $
	
### 2种方法定义一个只读变量

	[root@centos7 ~ 2019-10-25 16:09]$ readonly a
	[root@centos7 ~ 2019-10-25 16:10]$ readonly a=b
	-bash: a: readonly variable

	[root@centos7 ~ 2019-10-25 16:10]$ declare -r c='b'


### 查看只读变量

	[root@centos7 ~ 2019-10-25 16:10]$ declare -r
	[root@centos7 ~ 2019-10-25 16:10]$ readonly

### name=test;(echo $name;name=22;echo $name );echo name 中()是什么？
	
	子进程    

### ls,pwd命令的结果重定向到aaa.log中

	[root@centos7 ~ 2019-10-25 16:13]$ (ls;pwd) > aaa.log

### 编写脚本/root/bin/systeminfo.sh,显示当前主机系统信息，包括主机名，IPv4地址，操作系统版本，内核版本，CPU型号，内存大小，硬盘大小

### 编写脚本/root/bin/backup.sh，可实现每日将/etc/目录备份到/root/etcYYYY-mm-dd中

	[root@centos7 ~ 2019-10-25 16:19]$ cat backup.sh 
	#!/bin/bash
	mkdir etc`date +%F`
	cp /etc/ -a /root/etc`date +%F`

### 编写脚本/root/bin/disk.sh,显示当前硬盘分区中空间利用率最大的值
	
	xxx

### 编写脚本/root/bin/links.sh,显示正连接本主机的每个远程主机的IPv4地址和连接数，并按连接数从大到小排序

	xxx

### 查看进程退出状态，执行结果的状态？  
	
	$?